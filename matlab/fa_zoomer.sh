#!/bin/sh

# Wrapper script for launching fa_zoomer application build by Matlab compiler,
# derived from fa_zoomer_bin script generated by the same tool.

MCRROOT='@MCRROOT@'
GLN_ARCH='@GLN_ARCH@'
ARCH='@ARCH@'

# Joins arguments into a : separated path expression
join() { sep=; for x; do echo -n "$sep$x"; sep=:; done; }

MCRJRE="$MCRROOT/sys/java/jre/$GLN_ARCH/jre/lib/$ARCH"
export LD_LIBRARY_PATH="$(join \
    "$MCRROOT/bin/$GLN_ARCH" "$MCROOT/sys/os/$GLN_ARCH" \
    "$MCRJRE/native_threads" "$MCRJRE/server" "$MCRJRE/client" \
    "$MCRJRE")"
export XAPPLRESDIR="$MCRROOT/X11/app-defaults"

exec "$(dirname "$0")"/fa_zoomer_bin "$@"
